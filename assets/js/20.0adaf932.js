(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{442:function(t,e,s){"use strict";s.r(e);var a=s(2),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#序"}},[t._v("#")]),t._v(" 序")]),t._v(" "),s("p",[t._v("由于CentOS官方的问题(我不知道，也不敢问)，导致 CentOS Linux 8 于2021年底停止了支持，因此导致了我 Proxmox 安装的 CentOS Linux 8 容器无法正常进行更新，因此我将它升级到了 CentOS 8 Stream 滚动发行版，可以进行获取更新。")]),t._v(" "),s("h2",{attrs:{id:"升级之前"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级之前"}},[t._v("#")]),t._v(" 升级之前")]),t._v(" "),s("p",[t._v("由于停止了支持，导致无法正常进行更新，因此需要先修改镜像站到阿里云的过期源")]),t._v(" "),s("p",[t._v("首先进入 "),s("code",[t._v("/etc/yum.repos.d")]),t._v(" 目录中删除所有的更新源(反正也不能用了)")]),t._v(" "),s("p",[t._v("你可以执行 "),s("code",[t._v("cd /etc/yum.repos.d")]),t._v(" 然后再执行 "),s("code",[t._v("rm -rf *.repo")]),t._v(" 删除所有镜像源")]),t._v(" "),s("p",[t._v("输入代码：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("修改到新的镜像源，在 "),s("code",[t._v("/etc/yum.repos.d")]),t._v(" 目录中出现 "),s("code",[t._v("CentOS-Base.repo")]),t._v(" 文件后就可以进行下一步操作。")]),t._v(" "),s("h2",{attrs:{id:"升级"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#升级"}},[t._v("#")]),t._v(" 升级")]),t._v(" "),s("p",[t._v("升级的方式很简单，如下：")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dnf swap centos-linux-repos centos-stram-repos")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# dnf distro-sync")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("执行第一段代码后按照提示进行安装")]),t._v(" "),s("p",[t._v("执行第二段代码后即可成功进行升级")]),t._v(" "),s("h2",{attrs:{id:"验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[t._v("#")]),t._v(" 验证")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@centos ~"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cat /etc/centos-release")]),t._v("\nCentOS Stream release "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("这样，你就不用担心由于 CentOS 8 停止支持导致无法正常进行更新啦～")]),t._v(" "),s("br"),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Copyright")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("文章作者: "),s("a",{attrs:{href:"mailto:abcd2890000456@126.com"}},[t._v("玉桂喵")])])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("文章链接: "),s("a",{attrs:{href:"https://blog.mojy.xyz/archives/2022/centos-linux-8-to-centos-stream-8.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://blog.mojy.xyz/archives/2022/centos-linux-8-to-centos-stream-8.html"),s("OutboundLink")],1)])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("版权声明: 商业转载请联系站长获得授权，非商业转载请注明本文出处及文章链接，未经站长允许不得对文章文字内容进行修改演绎。本文采用"),s("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",rel:"noopener noreferrer"}},[t._v("创作共用保留署名-非商业-禁止演绎4.0国际许可证"),s("OutboundLink")],1),t._v("。")])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);