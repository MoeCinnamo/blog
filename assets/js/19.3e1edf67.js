(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{441:function(s,a,t){"use strict";t.r(a);var e=t(2),r=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"序"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#序"}},[s._v("#")]),s._v(" 序")]),s._v(" "),t("p",[s._v("我有很多文件需要存储，家里的硬盘也有很大的空间，我想找一个开源的网盘程序使用。因此我就在 GitHub 上面找到了 Cloudreve 这个网盘程序，想要制作一个共享网盘。")]),s._v(" "),t("h2",{attrs:{id:"介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[s._v("#")]),s._v(" 介绍")]),s._v(" "),t("h3",{attrs:{id:"什么是cloudreve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#什么是cloudreve"}},[s._v("#")]),s._v(" 什么是cloudreve")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve",target:"_blank",rel:"noopener noreferrer"}},[s._v("cloudreve"),t("OutboundLink")],1),s._v("是"),t("a",{attrs:{href:"https://github.com",target:"_blank",rel:"noopener noreferrer"}},[s._v("github"),t("OutboundLink")],1),s._v("上开源的网盘系统。")]),s._v(" "),t("h3",{attrs:{id:"官方网站"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#官方网站"}},[s._v("#")]),s._v(" 官方网站")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://cloudreve.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://cloudreve.org/"),t("OutboundLink")],1)]),s._v(" "),t("h3",{attrs:{id:"网盘源代码"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#网盘源代码"}},[s._v("#")]),s._v(" 网盘源代码")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/cloudreve/Cloudreve"),t("OutboundLink")],1)]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"部署"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[s._v("#")]),s._v(" 部署")]),s._v(" "),t("p",[s._v("环境：CentOS 7")]),s._v(" "),t("p",[s._v("版本：Cloudreve 3.5.3")]),s._v(" "),t("h2",{attrs:{id:"下载"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载"}},[s._v("#")]),s._v(" 下载")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/cloudreve/Cloudreve/releases/tag/3.5.3",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cloudreve-3.5.3"),t("OutboundLink")],1)]),s._v(" "),t("p",[t("ins",[s._v("你应该按照你的环境来下载，一般的x86架构Linux电脑下载 "),t("strong",[s._v("cloudreve_3.5.3_linux_amd64.tar.gz")]),s._v(" ，Windows电脑下载 "),t("strong",[s._v("cloudreve_3.5.3_windows_amd64.zip")]),s._v("，而不应该下载 "),t("strong",[s._v("Source code")]),s._v("。")])]),s._v(" "),t("h2",{attrs:{id:"安装宝塔面板"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装宝塔面板"}},[s._v("#")]),s._v(" 安装宝塔面板")]),s._v(" "),t("p",[s._v("使用工具连接服务器的ssh终端，执行以下代码：")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" -O install.sh http://download.bt.cn/install/install_6.0.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" install.sh\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("根据提示进行安装即可")]),s._v(" "),t("h2",{attrs:{id:"安装-依赖"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-依赖"}},[s._v("#")]),s._v(" 安装 依赖")]),s._v(" "),t("p",[s._v("安装好宝塔面板后，登录面板。")]),s._v(" "),t("p",[s._v("打开面板左侧软件商店，依次安装 Nginx (随便哪个版本都行)，MySQL (5.7以上版本)，phpmyadmin (随便哪个版本都行)，PHP 7.2。")]),s._v(" "),t("h2",{attrs:{id:"创建数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建数据库"}},[s._v("#")]),s._v(" 创建数据库")]),s._v(" "),t("p",[s._v("打开面板左侧数据库，点击添加数据库，数据库名填写"),t("code",[s._v("Cloudreve")]),s._v("，其它信息不用管；点击提交即可创建数据库。")]),s._v(" "),t("h2",{attrs:{id:"安装-aria2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-aria2"}},[s._v("#")]),s._v(" 安装 aria2")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y aria2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"创建配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建配置文件"}},[s._v("#")]),s._v(" 创建配置文件")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /etc/aria2\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" www /etc/aria2 -R\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/aria2/aria2.conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /etc/aria2/aria2.session\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"编辑配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#编辑配置文件"}},[s._v("#")]),s._v(" 编辑配置文件")]),s._v(" "),t("p",[s._v("在文件管理中打开"),t("code",[s._v("/etc/aria2/aria2.conf")]),s._v("文件，没有可以创建一个。")]),s._v(" "),t("p",[s._v("内容为：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("#设置下载目录(这是缺省值，Cloudreve里面设置的和它不应该一样)\ndir=/www/Downloads\n\n#打开rpc的目的是为了给web管理端用\nenable-rpc=true\nrpc-allow-origin-all=true\nrpc-listen-all=true\nrpc-listen-port=6800\n#断点续传\ncontinue=true\ninput-file=/etc/aria2/aria2.session\nsave-session=/etc/aria2/aria2.session\n\n#最大同时下载任务数\nmax-concurrent-downloads=40\nsave-session-interval=120\n\n# Http/FTP 相关\nconnect-timeout=120\n#lowest-speed-limit=10K\n#同服务器连接数\nmax-connection-per-server=10\n#max-file-not-found=2\n#最小文件分片大小, 下载线程数上限取决于能分出多少片, 对于小文件重要\nmin-split-size=20M\n\n#单文件最大线程数, 路由建议值: 5\nsplit=15\ncheck-certificate=false\n#http-no-cache=true\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br")])]),t("h3",{attrs:{id:"配置服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置服务"}},[s._v("#")]),s._v(" 配置服务")]),s._v(" "),t("p",[s._v("打开"),t("code",[s._v("/usr/lib/systemd/system/")]),s._v("目录创建"),t("code",[s._v("aria2.service")]),s._v("文件")]),s._v(" "),t("p",[s._v("内容如下：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Unit]\nDescription=Aria2 Service\nAfter=syslog.target network.target\n\n[Service]\nType=simple\nUser=www\nExecStart=/usr/bin/aria2c --enable-rpc --rpc-listen-all --rpc-allow-origin-all --save-session /etc/aria2/aria2.session --input-file /etc/aria2/aria2.session --conf-path=/etc/aria2/aria2.conf\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h2",{attrs:{id:"创建网站"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建网站"}},[s._v("#")]),s._v(" 创建网站")]),s._v(" "),t("p",[s._v("在"),t("strong",[s._v("网站")]),s._v("选项中点击"),t("strong",[s._v("添加站点")]),s._v("，域名为"),t("strong",[s._v("Cloudreve.bt")]),s._v("，备注"),t("strong",[s._v("Cloudreve")]),s._v("其它的选项默认即可。")]),s._v(" "),t("h2",{attrs:{id:"安装-cloudreve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-cloudreve"}},[s._v("#")]),s._v(" 安装 Cloudreve")]),s._v(" "),t("h3",{attrs:{id:"创建工作文件夹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建工作文件夹"}},[s._v("#")]),s._v(" 创建工作文件夹")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /www/cloudreve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"上次-解压"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#上次-解压"}},[s._v("#")]),s._v(" 上次&解压")]),s._v(" "),t("p",[s._v("将下载好的发行版文件上传到工作文件夹中，然后执行以下内容进行解压")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /www/cloudreve\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -xvf cloudreve_3.5.3_linux_amd64.tar.gz\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"首次运行测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#首次运行测试"}},[s._v("#")]),s._v(" 首次运行测试")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" +x ./cloudreve\n./cloudreve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"修改配置文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),t("p",[s._v("打开工作文件夹，打开"),t("code",[s._v("conf.ini")]),s._v("文件")]),s._v(" "),t("p",[s._v("在文件最后添加：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Database]\n; 数据库类型，目前支持 sqlite | mysql\nType = mysql\n; MySQL 端口\nPort = 3306\n; 用户名\nUser = cloudreve\n; 密码\nPassword = [mysql_db_passwd]\n; 数据库地址\nHost = 127.0.0.1\n; 数据库名称\nName = cloudreve\n; 数据表前缀\nTablePrefix = cr_\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("p",[t("ins",[s._v("上面用'[mysql_db_passwd]'替代MySQL的密码，使用前需先复制数据库密码，粘贴到这里即可。")])]),s._v(" "),t("p",[s._v("删除无用的sqlite生成的cloudreve.db")]),s._v(" "),t("h2",{attrs:{id:"再次进行测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#再次进行测试"}},[s._v("#")]),s._v(" 再次进行测试")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("./cloudreve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("首次运行会打印监听端口、用户名和密码，如果PHPmyadmin内出现数据表，说明配置文件已经生效，用浏览器登录测试，没问题修改你的管理员用户名密码，进行下一步。")]),s._v(" "),t("p",[s._v("需要注意的是这次的用户名和密码要牢记")]),s._v(" "),t("h2",{attrs:{id:"配置服务-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置服务-2"}},[s._v("#")]),s._v(" 配置服务")]),s._v(" "),t("p",[s._v("打开"),t("code",[s._v("/usr/lib/systemd/system/")]),s._v("目录创建"),t("code",[s._v("cloudreve.service")]),s._v("文件")]),s._v(" "),t("p",[s._v("内容如下：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("[Unit]\nDescription=Cloudreve\nDocumentation=https://docs.cloudreve.org\nAfter=network.target aria2.service\nWants=network.target aria2.service\n\n[Service]\nUser=www\nWorkingDirectory=/www/cloudreve\nExecStart=/www/cloudreve/cloudreve\nRestart=on-abnormal\nRestartSec=5s\nKillMode=mixed\n\nStandardOutput=null\nStandardError=syslog\n\n[Install]\nWantedBy=multi-user.target\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h2",{attrs:{id:"启动服务进行测试"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动服务进行测试"}},[s._v("#")]),s._v(" 启动服务进行测试")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("systemctl daemon-reload\nsystemctl start aria2\nsystemctl start cloudreve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h2",{attrs:{id:"设置反代"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置反代"}},[s._v("#")]),s._v(" 设置反代")]),s._v(" "),t("p",[s._v("打开左侧"),t("strong",[s._v("网站")]),s._v("，点击"),t("strong",[s._v("Cloudreve.bt")]),s._v("，解析并绑定你的域名，点击"),t("strong",[s._v("反向代理")]),s._v("，代理名称输入"),t("code",[s._v("Cloudreve")]),s._v("，目标url输入"),t("strong",[s._v("http://localhost:5212")]),s._v("点击提交即可。")]),s._v(" "),t("p",[s._v("访问你的域名，登录用户名、密码，测试功能。")]),s._v(" "),t("h2",{attrs:{id:"设置开机启动"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置开机启动"}},[s._v("#")]),s._v(" 设置开机启动")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" aria2\nsystemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" cloudreve\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"总结"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" 总结")]),s._v(" "),t("p",[s._v("以上就是对我本次部署过程的总结，后续参考手册https://docs.cloudreve.org/，进行设置优化就好了。")]),s._v(" "),t("p",[s._v("设置需要注意以下几点：")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("p",[s._v("1.站点信息 -> url一定要设置准确")]),s._v(" "),t("p",[s._v("2.’离线下载--\x3e临时下载目录’填写"),t("code",[s._v("/www/Cloudreve/Downloads")])]),s._v(" "),t("p",[s._v("3.在’用户‘中修改的密码,一定要记住! *")])]),t("h2",{attrs:{id:"踩的一些坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#踩的一些坑"}},[s._v("#")]),s._v(" 踩的一些坑")]),s._v(" "),t("h3",{attrs:{id:"无法上传大文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#无法上传大文件"}},[s._v("#")]),s._v(" 无法上传大文件")]),s._v(" "),t("p",[s._v("经过分析这个问题是nginx导致的，nginx上传文件控制了大小，修改宝塔的nginx设置，性能调整那里最大上传文件改为65536。即：最大可支持单文件64GB。这个可以根据实际需要进行设置。")]),s._v(" "),t("h3",{attrs:{id:"不能获取gravatar头像"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#不能获取gravatar头像"}},[s._v("#")]),s._v(" 不能获取gravatar头像")]),s._v(" "),t("p",[s._v("‘参数设置--\x3e图像处理’中的Gravatar服务器地址中的"),t("code",[s._v("https://www.gravatar.com/")]),s._v("改成"),t("code",[s._v("http://gravatar.loli.net/")])]),s._v(" "),t("br"),s._v(" "),t("table",[t("thead",[t("tr",[t("th",{staticStyle:{"text-align":"left"}},[s._v("Copyright")])])]),s._v(" "),t("tbody",[t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("文章作者: "),t("a",{attrs:{href:"mailto:abcd2890000456@126.com"}},[s._v("玉桂喵")])])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("文章链接: "),t("a",{attrs:{href:"https://blog.mojy.xyz/archives/2022/bt-cloudreve-deploy-course.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://blog.mojy.xyz/archives/2022/bt-cloudreve-deploy-course.html"),t("OutboundLink")],1)])]),s._v(" "),t("tr",[t("td",{staticStyle:{"text-align":"left"}},[s._v("版权声明: 商业转载请联系站长获得授权，非商业转载请注明本文出处及文章链接，未经站长允许不得对文章文字内容进行修改演绎。本文采用"),t("a",{attrs:{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",rel:"noopener noreferrer"}},[s._v("创作共用保留署名-非商业-禁止演绎4.0国际许可证"),t("OutboundLink")],1),s._v("。")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);